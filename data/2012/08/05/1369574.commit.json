{
  "when": "2012-08-05T09:09:50-04:00", 
  "message": "adding Message Processor serialization test", 
  "who": "charith", 
  "changes": [
    {
      "chunks": [
        {
          "locn": "-0,0 +1,75", 
          "lines": [
            "+/*\n", 
            "+ *  Licensed to the Apache Software Foundation (ASF) under one\n", 
            "+ *  or more contributor license agreements.  See the NOTICE file\n", 
            "+ *  distributed with this work for additional information\n", 
            "+ *  regarding copyright ownership.  The ASF licenses this file\n", 
            "+ *  to you under the Apache License, Version 2.0 (the\n", 
            "+ *  \"License\"); you may not use this file except in compliance\n", 
            "+ *  with the License.  You may obtain a copy of the License at\n", 
            "+ *\n", 
            "+ *   http://www.apache.org/licenses/LICENSE-2.0\n", 
            "+ *\n", 
            "+ *  Unless required by applicable law or agreed to in writing,\n", 
            "+ *  software distributed under the License is distributed on an\n", 
            "+ *   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n", 
            "+ *  KIND, either express or implied.  See the License for the\n", 
            "+ *  specific language governing permissions and limitations\n", 
            "+ *  under the License.\n", 
            "+ */\n", 
            "+package org.apache.synapse.config.xml;\n", 
            "+\n", 
            "+import org.apache.axiom.om.OMElement;\n", 
            "+import org.apache.synapse.message.processors.AbstractMessageProcessor;\n", 
            "+import org.apache.synapse.message.processors.MessageProcessor;\n", 
            "+\n", 
            "+/**\n", 
            "+ * Class <code>MessageProcessorSerializationTest</code> implements test cases for XML Serialization\n", 
            "+ * Scenarios for Synapse message processor.\n", 
            "+ */\n", 
            "+public class MessageProcessorSerializationTest extends AbstractTestCase {\n", 
            "+\n", 
            "+    public MessageProcessorSerializationTest() {\n", 
            "+        super(MessageProcessorSerializationTest.class.getName());\n", 
            "+    }\n", 
            "+\n", 
            "+    /**\n", 
            "+     * Test the Message Processor Creation and Serialization\n", 
            "+     * For a Basic Message processor with No parameters.\n", 
            "+     */\n", 
            "+    public void testMessageProcessorSerialization() {\n", 
            "+        String messageProcessorConfig = \"<syn:messageProcessor xmlns:syn=\\\"\" +\n", 
            "+                \"http://ws.apache.org/ns/synapse\\\"\" +\n", 
            "+                \" name=\\\"foo\\\" \" +\n", 
            "+                \"class=\\\"org.apache.synapse.config.xml.MessageProcessorSerializationTest$TestMessageProcessor\\\" messageStore=\\\"bar\\\">\" +\n", 
            "+                \"</syn:messageProcessor>\";\n", 
            "+\n", 
            "+        OMElement messageProcessorElement = createOMElement(messageProcessorConfig);\n", 
            "+        MessageProcessor messageProcessor = MessageProcessorFactory.createMessageProcessor(messageProcessorElement);\n", 
            "+        OMElement serializedElement = MessageProcessorSerializer.serializeMessageProcessor(null,\n", 
            "+                messageProcessor);\n", 
            "+\n", 
            "+        assertTrue(compare(messageProcessorElement, serializedElement));\n", 
            "+    }\n", 
            "+\n", 
            "+    /**\n", 
            "+     * This is a Test Message Processor implementation used only to test the XML Serialization\n", 
            "+     */\n", 
            "+    public static class TestMessageProcessor extends AbstractMessageProcessor {\n", 
            "+\n", 
            "+\n", 
            "+        @Override\n", 
            "+        public void start() {\n", 
            "+            //DO NOTHING\n", 
            "+        }\n", 
            "+\n", 
            "+        @Override\n", 
            "+        public void stop() {\n", 
            "+            //DO NOTHING\n", 
            "+        }\n", 
            "+\n", 
            "+        @Override\n", 
            "+        public void destroy() {\n", 
            "+            //DO NOTHING\n", 
            "+        }\n", 
            "+    }\n", 
            "+}\n"
          ]
        }
      ], 
      "to": "java/modules/core/src/test/java/org/apache/synapse/config/xml/MessageProcessorSerializationTest.java", 
      "from": "java/modules/core/src/test/java/org/apache/synapse/config/xml/MessageProcessorSerializationTest.java"
    }, 
    {
      "chunks": [
        {
          "locn": "-30,18 +30,14", 
          "lines": [
            "  */\n", 
            " public class MessageStoreSerializationTest extends AbstractTestCase {\n", 
            " \n", 
            "-    MessageStoreSerializer messageStoreSerializer;\n", 
            "-\n", 
            "     public MessageStoreSerializationTest() {\n", 
            "         super(MessageStoreSerializationTest.class.getName());\n", 
            "-        this.messageStoreSerializer = new MessageStoreSerializer();\n", 
            "     }\n", 
            " \n", 
            "     /**\n", 
            "-     * Test case for InMemory Message Store Configuration Factory and serializer.\n", 
            "-     * @throws Exception in case of a error while creating or in the serialize process.\n", 
            "+     * Test case for InMemory Message Store Configuration Factory and serializer with no parameters.\n", 
            "      */\n", 
            "-    public void testMessageStoreSerialization() throws Exception {\n", 
            "+    public void testMessageStoreSerialization() {\n", 
            "         String messageStoreConfiguration = \"<syn:messageStore xmlns:syn=\\\"\" +\n", 
            "                 \"http://ws.apache.org/ns/synapse\\\"\" +\n", 
            "                 \" name=\\\"foo\\\" >\" +\n"
          ]
        }, 
        {
          "locn": "-53,7 +49,7", 
          "lines": [
            "         OMElement serializedElement = MessageStoreSerializer.serializeMessageStore(null,\n", 
            "                 messageStore);\n", 
            " \n", 
            "-            assertTrue(compare(messageStoreElement, serializedElement));\n", 
            "+        assertTrue(compare(messageStoreElement, serializedElement));\n", 
            " \n", 
            "     }\n", 
            " \n"
          ]
        }
      ], 
      "to": "java/modules/core/src/test/java/org/apache/synapse/config/xml/MessageStoreSerializationTest.java", 
      "from": "java/modules/core/src/test/java/org/apache/synapse/config/xml/MessageStoreSerializationTest.java"
    }
  ], 
  "id": "1369574"
}