{
  "when": "2013-07-22T18:10:32-04:00", 
  "message": "Applying the documentation patch for SYNAPSE-948 (sample 431).", 
  "who": "hiranya", 
  "changes": [
    {
      "chunks": [
        {
          "locn": "-195,6 +195,7", 
          "lines": [
            "                 <p>\n", 
            "                     <ul>\n", 
            "                         <li><a href=\"samples/sample430.html\">Sample 430: Callout mediator for synchronous web service invocations</a></li>\n", 
            "+                        <li><a href=\"samples/sample431.html\">Sample 431: Callout Mediator with WS-Security for Outgoing Messages</a></li>\n", 
            "                     </ul>\n", 
            "                 </p>\n", 
            "                 <h4>URL Rewrite Mediator</h4>\n"
          ]
        }
      ], 
      "to": "java/modules/documentation/src/site/xdoc/userguide/samples.xml", 
      "from": "java/modules/documentation/src/site/xdoc/userguide/samples.xml"
    }, 
    {
      "chunks": [
        {
          "locn": "-0,0 +1,92", 
          "lines": [
            "+<?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?>\n", 
            "+<!--\n", 
            "+  ~  Licensed to the Apache Software Foundation (ASF) under one\n", 
            "+  ~  or more contributor license agreements.  See the NOTICE file\n", 
            "+  ~  distributed with this work for additional information\n", 
            "+  ~  regarding copyright ownership.  The ASF licenses this file\n", 
            "+  ~  to you under the Apache License, Version 2.0 (the\n", 
            "+  ~  \"License\"); you may not use this file except in compliance\n", 
            "+  ~  with the License.  You may obtain a copy of the License at\n", 
            "+  ~\n", 
            "+  ~   http://www.apache.org/licenses/LICENSE-2.0\n", 
            "+  ~\n", 
            "+  ~  Unless required by applicable law or agreed to in writing,\n", 
            "+  ~  software distributed under the License is distributed on an\n", 
            "+  ~   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n", 
            "+  ~  KIND, either express or implied.  See the License for the\n", 
            "+  ~  specific language governing permissions and limitations\n", 
            "+  ~  under the License.\n", 
            "+  -->\n", 
            "+\n", 
            "+<document>\n", 
            "+    <properties>\n", 
            "+        <title>Apache Synapse - Sample 431</title>\n", 
            "+    </properties>\n", 
            "+    <body>\n", 
            "+        <section name=\"Sample 431: Callout Mediator with WS-Security for Outgoing Messages\">\n", 
            "+            <div class=\"xmlConf\">&lt;definitions xmlns=\"http://ws.apache.org/ns/synapse\"&gt;\n", 
            "+\n", 
            "+    &lt;localEntry key=\"sec_policy\" src=\"file:repository/conf/sample/resources/policy/policy_3.xml\"/&gt;\n", 
            "+\n", 
            "+    &lt;sequence name=\"main\"&gt;\n", 
            "+        &lt;callout serviceURL=\"http://localhost:9000/services/SecureStockQuoteService\"\n", 
            "+                 action=\"urn:getQuote\"&gt;\n", 
            "+            &lt;source xmlns:s11=\"http://schemas.xmlsoap.org/soap/envelope/\"\n", 
            "+                    xmlns:s12=\"http://www.w3.org/2003/05/soap-envelope\"\n", 
            "+                    xpath=\"s11:Body/child::*[fn:position()=1] | s12:Body/child::*[fn:position()=1]\"/&gt;\n", 
            "+            &lt;target xmlns:s11=\"http://schemas.xmlsoap.org/soap/envelope/\"\n", 
            "+                    xmlns:s12=\"http://www.w3.org/2003/05/soap-envelope\"\n", 
            "+                    xpath=\"s11:Body/child::*[fn:position()=1] | s12:Body/child::*[fn:position()=1]\"/&gt;\n", 
            "+            &lt;enableSec policy=\"sec_policy\"/&gt;\n", 
            "+        &lt;/callout&gt;\n", 
            "+        &lt;property name=\"RESPONSE\" value=\"true\"/&gt;\n", 
            "+        &lt;header name=\"To\" action=\"remove\"/&gt;\n", 
            "+        &lt;send/&gt;\n", 
            "+        &lt;drop/&gt;\n", 
            "+    &lt;/sequence&gt;\n", 
            "+\n", 
            "+&lt;/definitions&gt;</div>\n", 
            "+            <subsection name=\"Objective\">\n", 
            "+                <p>\n", 
            "+                    Demonstrate the usage of the Callout mediator for making synchronous (blocking)\n", 
            "+                    Web service calls to invoke secured services during mediation.\n", 
            "+                </p>\n", 
            "+            </subsection>\n", 
            "+            <subsection name=\"Pre-requisites\">\n", 
            "+                <p>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            Download and install the Java Cryptography Extension (JCE) unlimited\n", 
            "+                            strength policy files for your JDK\n", 
            "+                        </li>\n", 
            "+                        <li>\n", 
            "+                            Deploy the SecureStockQuoteService in the sample Axis2 server and start Axis2\n", 
            "+                        </li>\n", 
            "+                        <li>\n", 
            "+                            Start Synapse using the configuration numbered 431 (repository/conf/sample/synapse_sample_431.xml)\n", 
            "+                            <div class=\"command\">\n", 
            "+                                Unix/Linux: sh synapse.sh -sample 431<br/>\n", 
            "+                                Windows: synapse.bat -sample 431\n", 
            "+                            </div>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                </p>\n", 
            "+            </subsection>\n", 
            "+            <subsection name=\"Executing the Client\">\n", 
            "+                <p>\n", 
            "+                    In this sample, the Callout mediator does the service invocation to the Secured service\n", 
            "+                    SecureStockQuoteService by encrypting the client request according to the defined policy.\n", 
            "+                    And then received encrypted message is decrypted and after removing the wsse:Security header,\n", 
            "+                    the message is sent back to the client using the send mediator.\n", 
            "+\n", 
            "+                    Callout Mediator is configured to enable WS-Security as per the policy specified by 'policy_3.xml'.\n", 
            "+                </p>\n", 
            "+                <p>\n", 
            "+                    Invoke the client as follows.\n", 
            "+                </p>\n", 
            "+                <div class=\"command\">ant stockquote -Dtrpurl=http://localhost:8280/</div>\n", 
            "+            </subsection>\n", 
            "+        </section>\n", 
            "+        <p><a href=\"../samples.html\">Back to Catalog</a></p>        \n", 
            "+    </body>\n", 
            "+</document>\n", 
            "\\ No newline at end of file\n"
          ]
        }
      ], 
      "to": "java/modules/documentation/src/site/xdoc/userguide/samples/sample431.xml", 
      "from": "java/modules/documentation/src/site/xdoc/userguide/samples/sample431.xml"
    }
  ], 
  "id": "1505832"
}