{
  "when": "2012-04-18T11:23:07-04:00", 
  "who": "uswick", 
  "changes": [
    {
      "chunks": [], 
      "to": "java/modules/core/src/test/resources/synapse-libraries/SynapseTestLibrary.zip", 
      "from": "java/modules/core/src/test/resources/synapse-libraries/SynapseTestLibrary.zip"
    }, 
    {
      "chunks": [
        {
          "locn": "-0,0 +1,52", 
          "lines": [
            "+/*\n", 
            "+ *  Licensed to the Apache Software Foundation (ASF) under one\n", 
            "+ *  or more contributor license agreements.  See the NOTICE file\n", 
            "+ *  distributed with this work for additional information\n", 
            "+ *  regarding copyright ownership.  The ASF licenses this file\n", 
            "+ *  to you under the Apache License, Version 2.0 (the\n", 
            "+ *  \"License\"); you may not use this file except in compliance\n", 
            "+ *  with the License.  You may obtain a copy of the License at\n", 
            "+ *\n", 
            "+ *   http://www.apache.org/licenses/LICENSE-2.0\n", 
            "+ *\n", 
            "+ *  Unless required by applicable law or agreed to in writing,\n", 
            "+ *  software distributed under the License is distributed on an\n", 
            "+ *   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n", 
            "+ *  KIND, either express or implied.  See the License for the\n", 
            "+ *  specific language governing permissions and limitations\n", 
            "+ *  under the License.\n", 
            "+ */\n", 
            "+package org.apache.synapse.libraries.util;\n", 
            "+\n", 
            "+import junit.framework.TestCase;\n", 
            "+import org.apache.synapse.libraries.model.Library;\n", 
            "+\n", 
            "+import javax.xml.namespace.QName;\n", 
            "+import java.net.URL;\n", 
            "+\n", 
            "+/**\n", 
            "+ * Created by IntelliJ IDEA.\n", 
            "+ * User: charitha\n", 
            "+ * Date: 3/30/12\n", 
            "+ * Time: 4:54 PM\n", 
            "+ * To change this template use File | Settings | File Templates.\n", 
            "+ */\n", 
            "+public class LibDeployerUtilsTest extends TestCase {\n", 
            "+\n", 
            "+    String path;\n", 
            "+\n", 
            "+    public void setUp() {\n", 
            "+        URL resource = LibDeployerUtilsTest.class.getResource(\"/synapse-libraries/SynapseTestLibrary.zip\");\n", 
            "+        path = resource.getPath();\n", 
            "+    }\n", 
            "+\n", 
            "+    public void testCreateSynapseLibrary() {\n", 
            "+        Library library = LibDeployerUtils.createSynapseLibrary(path);\n", 
            "+        assertNotNull(library);\n", 
            "+        assertEquals(new QName(\"org.apache.synapse.linkedin\",\"SynapseLinkedinLib\"), library.getQName());\n", 
            "+        assertEquals(\"SynapseLinkedinLib\", library.getQName().getLocalPart());\n", 
            "+        assertEquals(\"org.apache.synapse.linkedin\", library.getPackage());\n", 
            "+        assertEquals(\"synapse library for Linkedin\", library.getDescription());\n", 
            "+    }\n", 
            "+\n", 
            "+}\n"
          ]
        }
      ], 
      "to": "java/modules/core/src/test/java/org/apache/synapse/libraries/util/LibDeployerUtilsTest.java", 
      "from": "java/modules/core/src/test/java/org/apache/synapse/libraries/util/LibDeployerUtilsTest.java"
    }, 
    {
      "chunks": [
        {
          "locn": "-0,0 +1,101", 
          "lines": [
            "+/*\n", 
            "+ *  Licensed to the Apache Software Foundation (ASF) under one\n", 
            "+ *  or more contributor license agreements.  See the NOTICE file\n", 
            "+ *  distributed with this work for additional information\n", 
            "+ *  regarding copyright ownership.  The ASF licenses this file\n", 
            "+ *  to you under the Apache License, Version 2.0 (the\n", 
            "+ *  \"License\"); you may not use this file except in compliance\n", 
            "+ *  with the License.  You may obtain a copy of the License at\n", 
            "+ *\n", 
            "+ *   http://www.apache.org/licenses/LICENSE-2.0\n", 
            "+ *\n", 
            "+ *  Unless required by applicable law or agreed to in writing,\n", 
            "+ *  software distributed under the License is distributed on an\n", 
            "+ *   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n", 
            "+ *  KIND, either express or implied.  See the License for the\n", 
            "+ *  specific language governing permissions and limitations\n", 
            "+ *  under the License.\n", 
            "+ */\n", 
            "+package org.apache.synapse.libraries;\n", 
            "+\n", 
            "+import junit.framework.TestCase;\n", 
            "+import org.apache.synapse.libraries.imports.SynapseImport;\n", 
            "+import org.apache.synapse.libraries.model.Library;\n", 
            "+import org.apache.synapse.libraries.util.LibDeployerUtils;\n", 
            "+import org.apache.synapse.libraries.util.LibDeployerUtilsTest;\n", 
            "+\n", 
            "+/**\n", 
            "+ * Created by IntelliJ IDEA.\n", 
            "+ * User: charitha\n", 
            "+ * Date: 4/16/12\n", 
            "+ * Time: 4:38 PM\n", 
            "+ * To change this template use File | Settings | File Templates.\n", 
            "+ */\n", 
            "+public class LibImportTest extends TestCase {\n", 
            "+\n", 
            "+\n", 
            "+    public void testValidImports() {\n", 
            "+        Library library = LibDeployerUtils.createSynapseLibrary(LibDeployerUtilsTest.class.getResource(\"/synapse-libraries/SynapseTestLibrary.zip\").getPath());\n", 
            "+        SynapseImport validSynImport = new SynapseImport();\n", 
            "+        validSynImport.setLibName(\"SynapseLinkedinLib\");\n", 
            "+        validSynImport.setLibPackage(\"org.apache.synapse.linkedin\");\n", 
            "+        if (validSynImport != null) {\n", 
            "+            LibDeployerUtils.loadLibArtifacts(validSynImport, library);\n", 
            "+        }\n", 
            "+        assertEquals(\"SynapseLinkedinLib\", library.getQName().getLocalPart());\n", 
            "+        assertEquals(\"org.apache.synapse.linkedin\", library.getPackage());\n", 
            "+        assertEquals(\"synapse library for Linkedin\", library.getDescription());\n", 
            "+        assertNotNull(library.getArtifact(\"org.apache.synapse.linkedin.post_status\"));\n", 
            "+        assertNotNull(library.getArtifact(\"org.apache.synapse.linkedin.show_headline\"));\n", 
            "+        assertNotNull(library.getArtifact(\"org.apache.synapse.linkedin.send_message\"));\n", 
            "+        assertNotNull(library.getArtifact(\"org.apache.synapse.linkedin.register_user\"));\n", 
            "+        library.unLoadLibrary();\n", 
            "+        assertEquals(\"SynapseLinkedinLib\", library.getQName().getLocalPart());\n", 
            "+        assertEquals(\"org.apache.synapse.linkedin\", library.getPackage());\n", 
            "+        assertEquals(\"synapse library for Linkedin\", library.getDescription());\n", 
            "+        assertNull(library.getArtifact(\"org.apache.synapse.linkedin.post_status\"));\n", 
            "+        assertNull(library.getArtifact(\"org.apache.synapse.linkedin.show_headline\"));\n", 
            "+        assertNull(library.getArtifact(\"org.apache.synapse.linkedin.send_message\"));\n", 
            "+        assertNull(library.getArtifact(\"org.apache.synapse.linkedin.register_user\"));\n", 
            "+    }\n", 
            "+\n", 
            "+    public void testInValidImportsCaseOne() {\n", 
            "+        Library library = LibDeployerUtils.createSynapseLibrary(LibDeployerUtilsTest.class.getResource(\"/synapse-libraries/SynapseTestLibrary.zip\").getPath());\n", 
            "+        SynapseImport invalidSynImport = new SynapseImport();\n", 
            "+        invalidSynImport.setLibName(\"testSynapseLinkedinLib\");\n", 
            "+        invalidSynImport.setLibPackage(\"org.apache.synapse.linkedin\");\n", 
            "+        if (invalidSynImport != null) {\n", 
            "+            LibDeployerUtils.loadLibArtifacts(invalidSynImport, library);\n", 
            "+        }\n", 
            "+        assertEquals(\"SynapseLinkedinLib\", library.getQName().getLocalPart());\n", 
            "+        assertEquals(\"org.apache.synapse.linkedin\", library.getPackage());\n", 
            "+        assertNull(library.getArtifact(\"org.apache.synapse.linkedin.post_status\"));\n", 
            "+    }\n", 
            "+\n", 
            "+    public void testInValidImportsCaseTwo() {\n", 
            "+        Library library = LibDeployerUtils.createSynapseLibrary(LibDeployerUtilsTest.class.getResource(\"/synapse-libraries/SynapseTestLibrary.zip\").getPath());\n", 
            "+        SynapseImport invalidSynImport = new SynapseImport();\n", 
            "+        invalidSynImport.setLibName(\"SynapseLinkedinLib\");\n", 
            "+        invalidSynImport.setLibPackage(\"test.org.apache.synapse.linkedin\");\n", 
            "+        if (invalidSynImport != null) {\n", 
            "+            LibDeployerUtils.loadLibArtifacts(invalidSynImport, library);\n", 
            "+        }\n", 
            "+        assertEquals(\"SynapseLinkedinLib\", library.getQName().getLocalPart());\n", 
            "+        assertEquals(\"org.apache.synapse.linkedin\", library.getPackage());\n", 
            "+        assertNull(library.getArtifact(\"org.apache.synapse.linkedin.post_status\"));\n", 
            "+    }\n", 
            "+\n", 
            "+    public void testInValidImportsCaseThree() {\n", 
            "+        Library library = LibDeployerUtils.createSynapseLibrary(LibDeployerUtilsTest.class.getResource(\"/synapse-libraries/SynapseTestLibrary.zip\").getPath());\n", 
            "+        SynapseImport invalidSynImport = new SynapseImport();\n", 
            "+        invalidSynImport.setLibName(\"testSynapseLinkedinLib\");\n", 
            "+        invalidSynImport.setLibPackage(\"test.org.apache.synapse.linkedin\");\n", 
            "+        if (invalidSynImport != null) {\n", 
            "+            LibDeployerUtils.loadLibArtifacts(invalidSynImport, library);\n", 
            "+        }\n", 
            "+        assertEquals(\"SynapseLinkedinLib\", library.getQName().getLocalPart());\n", 
            "+        assertEquals(\"org.apache.synapse.linkedin\", library.getPackage());\n", 
            "+        assertNull(library.getArtifact(\"org.apache.synapse.linkedin.post_status\"));\n", 
            "+    }\n", 
            "+\n", 
            "+}\n"
          ]
        }
      ], 
      "to": "java/modules/core/src/test/java/org/apache/synapse/libraries/LibImportTest.java", 
      "from": "java/modules/core/src/test/java/org/apache/synapse/libraries/LibImportTest.java"
    }
  ], 
  "id": "1327543"
}