{
  "when": "2014-09-19T00:07:32-04:00", 
  "message": "Resolving SYNAPSE-964 Adding documentation for XPath functions", 
  "who": "hiranya", 
  "changes": [
    {
      "chunks": [
        {
          "locn": "-42,6 +42,7", 
          "lines": [
            "             <item name=\"Configuration Language\" href=\"userguide/config.html\"/>\n", 
            "             <item name=\"Mediators Catalog\" href=\"userguide/mediators.html\"/>\n", 
            "             <item name=\"Transports Catalog\" href=\"userguide/transports.html\"/>\n", 
            "+            <item name=\"XPath functions and Variables\" href=\"userguide/xpath.html\"/>\n", 
            "             <item name=\"Extending Synapse\" href=\"userguide/extending.html\"/>\n", 
            "             <item name=\"Synapse Template Libraries\" href=\"userguide/template_library.html\"/>\n", 
            "             <item name=\"Upgrading\" href=\"userguide/upgrading.html\"/>\n"
          ]
        }
      ], 
      "to": "java/modules/documentation/src/site/site.xml", 
      "from": "java/modules/documentation/src/site/site.xml"
    }, 
    {
      "chunks": [
        {
          "locn": "-0,0 +1,255", 
          "lines": [
            "+<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n", 
            "+<!--\n", 
            "+  ~  Licensed to the Apache Software Foundation (ASF) under one\n", 
            "+  ~  or more contributor license agreements.  See the NOTICE file\n", 
            "+  ~  distributed with this work for additional information\n", 
            "+  ~  regarding copyright ownership.  The ASF licenses this file\n", 
            "+  ~  to you under the Apache License, Version 2.0 (the\n", 
            "+  ~  \"License\"); you may not use this file except in compliance\n", 
            "+  ~  with the License.  You may obtain a copy of the License at\n", 
            "+  ~\n", 
            "+  ~   http://www.apache.org/licenses/LICENSE-2.0\n", 
            "+  ~\n", 
            "+  ~  Unless required by applicable law or agreed to in writing,\n", 
            "+  ~  software distributed under the License is distributed on an\n", 
            "+  ~   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n", 
            "+  ~  KIND, either express or implied.  See the License for the\n", 
            "+  ~  specific language governing permissions and limitations\n", 
            "+  ~  under the License.\n", 
            "+  -->\n", 
            "+\n", 
            "+<document>\n", 
            "+    <properties>\n", 
            "+        <title>Apache Synapse - XPath Functions and Variables</title>\n", 
            "+    </properties>\n", 
            "+    <body>\n", 
            "+        <section name=\"Introduction\" id=\"Intro\">\n", 
            "+            <p>\n", 
            "+                Apache Synapse supports standard XPath functions and variables through its\n", 
            "+                underlying XPath\n", 
            "+                engine. Apart from standard XPath functions, there are several custom XPath\n", 
            "+                functions\n", 
            "+                and variables defined by Synapse to retrieve various message context properties.\n", 
            "+            </p>\n", 
            "+        </section>\n", 
            "+        <section name=\"Contents\">\n", 
            "+            <ul>\n", 
            "+                <li>\n", 
            "+                    <a href=\"#functions\">Functions</a>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            <a href=\"#get_prop\">get-property</a>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            <a href=\"#get_prop\">base64Encode</a>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                </li>\n", 
            "+                <li>\n", 
            "+                    <a href=\"#var\">Variables</a>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            <a href=\"#axis2\">axis2</a>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            <a href=\"#trp\">trp</a>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            <a href=\"#ctx\">ctx</a>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            <a href=\"#url\">url</a>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            <a href=\"#body\">body</a>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            <a href=\"#header\">header</a>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                </li>\n", 
            "+            </ul>\n", 
            "+        </section>\n", 
            "+\n", 
            "+        <section name=\"Custom Functions\" id=\"functions\">\n", 
            "+            <subsection name=\"get-property function\" id=\"get_prop\">\n", 
            "+                <p>\n", 
            "+                    Get property function retrieves a property from the message context at the given\n", 
            "+                    scope.\n", 
            "+                    If the scope is not specified, property is retrieved from the default synapse\n", 
            "+                    scope.\n", 
            "+                </p>\n", 
            "+                <p>Syntax:</p>\n", 
            "+                <div class=\"xmlConf\">get-property(String scope, String propertyName)\n", 
            "+get-property(String propertyName)</div>\n", 
            "+\n", 
            "+                <h4>\n", 
            "+                    Supported Scopes\n", 
            "+                </h4>\n", 
            "+                <ul>\n", 
            "+                    <li>default</li>\n", 
            "+                    <li>axis2</li>\n", 
            "+                    <li>transport</li>\n", 
            "+                    <li>registry</li>\n", 
            "+                    <li>system</li>\n", 
            "+                </ul>\n", 
            "+\n", 
            "+                <h4 id=\"default_scope\">Default scope</h4>\n", 
            "+                <p>\n", 
            "+                    Message context properties residing in Synapse scope can be retrieved from the\n", 
            "+                    default scope. These are the properties directly set on the Synapse MessageContext\n", 
            "+                    instance.\n", 
            "+                    Apart from user defined properties, following special properties can also be\n", 
            "+                    retrieved from the default scope.\n", 
            "+                </p>\n", 
            "+                <table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n", 
            "+                    <tbody>\n", 
            "+                        <tr>\n", 
            "+                            <td>Name</td>\n", 
            "+                            <td>Return Value</td>\n", 
            "+                        </tr>\n", 
            "+                        <tr>\n", 
            "+                            <td>To</td>\n", 
            "+                            <td>Incoming URL as a String or empty string if a To address is\n", 
            "+                                not defined.\n", 
            "+                            </td>\n", 
            "+                        </tr>\n", 
            "+                        <tr>\n", 
            "+                            <td>From</td>\n", 
            "+                            <td>From address as a String or empty string if a From address\n", 
            "+                                is not defined\n", 
            "+                            </td>\n", 
            "+                        </tr>\n", 
            "+                        <tr>\n", 
            "+                            <td>Action</td>\n", 
            "+                            <td>SOAP Action header value as a String or empty string\n", 
            "+                                if a Action is not defined\n", 
            "+                            </td>\n", 
            "+                        </tr>\n", 
            "+                        <tr>\n", 
            "+                            <td>FaultTo</td>\n", 
            "+                            <td>SOAP FautTo header value as a String or empty string if a\n", 
            "+                                FaultTo address is not defined\n", 
            "+                            </td>\n", 
            "+                        </tr>\n", 
            "+                        <tr>\n", 
            "+                            <td>ReplyTo</td>\n", 
            "+                            <td>ReplyTo header value as a String or empty string if a\n", 
            "+                                ReplyTo address is not defined\n", 
            "+                            </td>\n", 
            "+                        </tr>\n", 
            "+                        <tr>\n", 
            "+                            <td>MessageID</td>\n", 
            "+                            <td>A unique identifier (UUID) for the message as a String .\n", 
            "+                                This id is guaranteed to be unique.\n", 
            "+                            </td>\n", 
            "+                        </tr>\n", 
            "+                        <tr>\n", 
            "+                            <td>FAULT</td>\n", 
            "+                            <td>TRUE if the message has a fault or empty string if message doesn't\n", 
            "+                                have a\n", 
            "+                                fault\n", 
            "+                            </td>\n", 
            "+                        </tr>\n", 
            "+                        <tr>\n", 
            "+                            <td>MESSAGE_FORMAT</td>\n", 
            "+                            <td>Returns pox, get, soap11, soap12 depending on the message. If a\n", 
            "+                                message type\n", 
            "+                                is unknown this returns soap12\n", 
            "+                            </td>\n", 
            "+                        </tr>\n", 
            "+                        <tr>\n", 
            "+                            <td>OperationName</td>\n", 
            "+                            <td>Operation name corresponding to the message.\n", 
            "+                            </td>\n", 
            "+                        </tr>\n", 
            "+                    </tbody>\n", 
            "+                </table>\n", 
            "+\n", 
            "+                <h4 id=\"axis2_scope\">Axis2 scope</h4>\n", 
            "+                <p>\n", 
            "+                    Message context properties residing in axis2 scope can be retrieved from the axis2\n", 
            "+                    scope. These are the properties set on the underlying Axis2 MessageContext object.\n", 
            "+                </p>\n", 
            "+\n", 
            "+                <h4 id=\"transport_scope\">Transport scope</h4>\n", 
            "+                <p>\n", 
            "+                    Message context properties residing in transport scope can be retrieved from the\n", 
            "+                    transport scope. These are the transport headers set on the MessageContext.\n", 
            "+                </p>\n", 
            "+\n", 
            "+                <h4 id=\"reg_scope\">Registry scope</h4>\n", 
            "+                <p>Properties residing in registry can be retrieved from the registry scope.</p>\n", 
            "+\n", 
            "+                <h4 id=\"system_scope\">System scope</h4>\n", 
            "+                <p>Java System properties can be retrieved from the system scope.</p>\n", 
            "+\n", 
            "+            </subsection>\n", 
            "+            <subsection name=\"base64Encode function\" id=\"base64\">\n", 
            "+                <p>Returns the base64 encoded value of the argument.</p>\n", 
            "+                <p>Syntax:</p>\n", 
            "+                <div class=\"xmlConf\">base64Encode(String value)</div>\n", 
            "+            </subsection>\n", 
            "+        </section>\n", 
            "+        <section name=\"Variables\" id=\"var\">\n", 
            "+            <p>There are several XPath variables supported by Synapse. These are used for\n", 
            "+                accessing\n", 
            "+                various\n", 
            "+                properties from the message context\n", 
            "+            </p>\n", 
            "+            <ul>\n", 
            "+                <li>$axis2</li>\n", 
            "+                <li>$trp</li>\n", 
            "+                <li>$ctx</li>\n", 
            "+                <li>$url</li>\n", 
            "+                <li>$body</li>\n", 
            "+                <li>$header</li>\n", 
            "+            </ul>\n", 
            "+\n", 
            "+            <p>These XPath variables get the properties at various scopes.</p>\n", 
            "+\n", 
            "+            <h4 id=\"ctx\">$ctx</h4>\n", 
            "+            <p>Variable prefix for accessing the MessageContext properties in default scope.</p>\n", 
            "+            <p>i.e To get the property named 'foo' at the default scope use the following XPath\n", 
            "+                expression\n", 
            "+            </p>\n", 
            "+            <div class=\"xmlConf\">$ctx:foo</div>\n", 
            "+\n", 
            "+            <h4 id=\"axis2\">$axis2</h4>\n", 
            "+            <p>Variable prefix for accessing the axis2 MessageContext properties</p>\n", 
            "+            <p>i.e. To get the property named 'messageType' use the following XPath expression</p>\n", 
            "+            <div class=\"xmlConf\">$axis2:messageType</div>\n", 
            "+\n", 
            "+            <h4 id=\"trp\">$trp</h4>\n", 
            "+            <p>Variable prefix for accessing transport headers of the message</p>\n", 
            "+            <p>i.e. To get the transport header named Content-Type use the following XPath\n", 
            "+                expression\n", 
            "+            </p>\n", 
            "+            <div class=\"xmlConf\">$trp:Content-Type</div>\n", 
            "+\n", 
            "+            <h4 id=\"url\">$url</h4>\n", 
            "+            <p>Variable prefix for accessing URL parameters of the message</p>\n", 
            "+\n", 
            "+            <p>i.e. To get the URL parameter named 'bar' use the following XPth expression</p>\n", 
            "+            <div class=\"xmlConf\">$url:bar</div>\n", 
            "+\n", 
            "+            <h4 id=\"body\">$body</h4>\n", 
            "+            <p>Get the message body</p>\n", 
            "+\n", 
            "+            <h4 id=\"header\">$header</h4>\n", 
            "+            <p>Get the soap header</p>\n", 
            "+        </section>\n", 
            "+    </body>\n", 
            "+</document>\n"
          ]
        }
      ], 
      "to": "java/modules/documentation/src/site/xdoc/userguide/xpath.xml", 
      "from": "java/modules/documentation/src/site/xdoc/userguide/xpath.xml"
    }
  ], 
  "id": "1626114"
}