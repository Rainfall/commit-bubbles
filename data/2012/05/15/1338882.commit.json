{
  "when": "2012-05-15T16:39:00-04:00", 
  "message": "Eliminated a couple of instances of the catch-and-fail JUnit anti-pattern.", 
  "who": "veithen", 
  "changes": [
    {
      "chunks": [
        {
          "locn": "-34,7 +34,7", 
          "lines": [
            " \n", 
            " public class ResponseMessageBuilderTest extends AbstractTestCase {\n", 
            " \n", 
            "-    public void testSubscriptionResponse() {\n", 
            "+    public void testSubscriptionResponse() throws Exception {\n", 
            "         String id = UIDGenerator.generateURNString();\n", 
            "         String addressUrl = \"http://synapse.test.com/eventing/sunscriptions\";\n", 
            " \n"
          ]
        }, 
        {
          "locn": "-52,21 +52,16", 
          "lines": [
            "                 \"</wse:SubscriptionManager>\" +\n", 
            "                 \"</wse:SubscribeResponse>\";\n", 
            " \n", 
            "-        try {\n", 
            "-            MessageContext msgCtx = TestUtils.getAxis2MessageContext(\"<empty/>\", null).\n", 
            "-                    getAxis2MessageContext();\n", 
            "-            ResponseMessageBuilder builder = new ResponseMessageBuilder(msgCtx);\n", 
            "-            SOAPEnvelope env = builder.genSubscriptionResponse(sub);\n", 
            "-            OMElement resultOm = env.getBody().getFirstElement();\n", 
            "-            OMElement expectedOm = AXIOMUtil.stringToOM(expected);\n", 
            "-            assertTrue(compare(expectedOm, resultOm));\n", 
            "-\n", 
            "-        } catch (Exception e) {\n", 
            "-            fail(\"Error while constructing the test message context: \" + e.getMessage());\n", 
            "-        }\n", 
            "+        MessageContext msgCtx = TestUtils.getAxis2MessageContext(\"<empty/>\", null).\n", 
            "+                getAxis2MessageContext();\n", 
            "+        ResponseMessageBuilder builder = new ResponseMessageBuilder(msgCtx);\n", 
            "+        SOAPEnvelope env = builder.genSubscriptionResponse(sub);\n", 
            "+        OMElement resultOm = env.getBody().getFirstElement();\n", 
            "+        OMElement expectedOm = AXIOMUtil.stringToOM(expected);\n", 
            "+        assertTrue(compare(expectedOm, resultOm));\n", 
            "     }\n", 
            " \n", 
            "-    public void testUnsubscriptionResponse() {\n", 
            "+    public void testUnsubscriptionResponse() throws Exception {\n", 
            "         String id = UIDGenerator.generateURNString();\n", 
            "         String addressUrl = \"http://synapse.test.com/eventing/sunscriptions\";\n", 
            " \n"
          ]
        }, 
        {
          "locn": "-77,21 +72,16", 
          "lines": [
            "         String expected =\n", 
            "                 \"<wse:UnsubscribeResponse xmlns:wse=\\\"http://schemas.xmlsoap.org/ws/2004/08/eventing\\\"/>\";\n", 
            " \n", 
            "-        try {\n", 
            "-            MessageContext msgCtx = TestUtils.getAxis2MessageContext(\"<empty/>\", null).\n", 
            "-                    getAxis2MessageContext();\n", 
            "-            ResponseMessageBuilder builder = new ResponseMessageBuilder(msgCtx);\n", 
            "-            SOAPEnvelope env = builder.genUnSubscribeResponse(sub);\n", 
            "-            OMElement resultOm = env.getBody().getFirstElement();\n", 
            "-            OMElement expectedOm = AXIOMUtil.stringToOM(expected);\n", 
            "-            assertTrue(compare(expectedOm, resultOm));\n", 
            "-\n", 
            "-        } catch (Exception e) {\n", 
            "-            fail(\"Error while constructing the test message context: \" + e.getMessage());\n", 
            "-        }\n", 
            "+        MessageContext msgCtx = TestUtils.getAxis2MessageContext(\"<empty/>\", null).\n", 
            "+                getAxis2MessageContext();\n", 
            "+        ResponseMessageBuilder builder = new ResponseMessageBuilder(msgCtx);\n", 
            "+        SOAPEnvelope env = builder.genUnSubscribeResponse(sub);\n", 
            "+        OMElement resultOm = env.getBody().getFirstElement();\n", 
            "+        OMElement expectedOm = AXIOMUtil.stringToOM(expected);\n", 
            "+        assertTrue(compare(expectedOm, resultOm));\n", 
            "     }\n", 
            " \n", 
            "-    public void testRenewResponse() {\n", 
            "+    public void testRenewResponse() throws Exception {\n", 
            "         String id = UIDGenerator.generateURNString();\n", 
            "         String addressUrl = \"http://synapse.test.com/eventing/sunscriptions\";\n", 
            "         Date date = new Date(System.currentTimeMillis() + 3600000);\n"
          ]
        }, 
        {
          "locn": "-108,21 +98,16", 
          "lines": [
            "                         \"<wse:Expires>\" + ConverterUtil.convertToString(cal) + \"</wse:Expires>\" +\n", 
            "                         \"</wse:RenewResponse>\";\n", 
            " \n", 
            "-        try {\n", 
            "-            MessageContext msgCtx = TestUtils.getAxis2MessageContext(\"<empty/>\", null).\n", 
            "-                    getAxis2MessageContext();\n", 
            "-            ResponseMessageBuilder builder = new ResponseMessageBuilder(msgCtx);\n", 
            "-            SOAPEnvelope env = builder.genRenewSubscriptionResponse(sub);\n", 
            "-            OMElement resultOm = env.getBody().getFirstElement();\n", 
            "-            OMElement expectedOm = AXIOMUtil.stringToOM(expected);\n", 
            "-            assertTrue(compare(expectedOm, resultOm));\n", 
            "-\n", 
            "-        } catch (Exception e) {\n", 
            "-            fail(\"Error while constructing the test message context: \" + e.getMessage());\n", 
            "-        }\n", 
            "+        MessageContext msgCtx = TestUtils.getAxis2MessageContext(\"<empty/>\", null).\n", 
            "+                getAxis2MessageContext();\n", 
            "+        ResponseMessageBuilder builder = new ResponseMessageBuilder(msgCtx);\n", 
            "+        SOAPEnvelope env = builder.genRenewSubscriptionResponse(sub);\n", 
            "+        OMElement resultOm = env.getBody().getFirstElement();\n", 
            "+        OMElement expectedOm = AXIOMUtil.stringToOM(expected);\n", 
            "+        assertTrue(compare(expectedOm, resultOm));\n", 
            "     }\n", 
            " \n", 
            "-    public void testGetStatusResponse() {\n", 
            "+    public void testGetStatusResponse() throws Exception {\n", 
            "         String id = UIDGenerator.generateURNString();\n", 
            "         String addressUrl = \"http://synapse.test.com/eventing/sunscriptions\";\n", 
            "         Date date = new Date(System.currentTimeMillis() + 3600000);\n"
          ]
        }, 
        {
          "locn": "-139,17 +124,12", 
          "lines": [
            "                         \"<wse:Expires>\" + ConverterUtil.convertToString(cal) + \"</wse:Expires>\" +\n", 
            "                         \"</wse:GetStatusResponse>\";\n", 
            " \n", 
            "-        try {\n", 
            "-            MessageContext msgCtx = TestUtils.getAxis2MessageContext(\"<empty/>\", null).\n", 
            "-                    getAxis2MessageContext();\n", 
            "-            ResponseMessageBuilder builder = new ResponseMessageBuilder(msgCtx);\n", 
            "-            SOAPEnvelope env = builder.genGetStatusResponse(sub);\n", 
            "-            OMElement resultOm = env.getBody().getFirstElement();\n", 
            "-            OMElement expectedOm = AXIOMUtil.stringToOM(expected);\n", 
            "-            assertTrue(compare(expectedOm, resultOm));\n", 
            "-\n", 
            "-        } catch (Exception e) {\n", 
            "-            fail(\"Error while constructing the test message context: \" + e.getMessage());\n", 
            "-        }\n", 
            "+        MessageContext msgCtx = TestUtils.getAxis2MessageContext(\"<empty/>\", null).\n", 
            "+                getAxis2MessageContext();\n", 
            "+        ResponseMessageBuilder builder = new ResponseMessageBuilder(msgCtx);\n", 
            "+        SOAPEnvelope env = builder.genGetStatusResponse(sub);\n", 
            "+        OMElement resultOm = env.getBody().getFirstElement();\n", 
            "+        OMElement expectedOm = AXIOMUtil.stringToOM(expected);\n", 
            "+        assertTrue(compare(expectedOm, resultOm));\n", 
            "     }\n", 
            " }\n"
          ]
        }
      ], 
      "to": "java/modules/core/src/test/java/org/apache/synapse/eventing/builders/ResponseMessageBuilderTest.java", 
      "from": "java/modules/core/src/test/java/org/apache/synapse/eventing/builders/ResponseMessageBuilderTest.java"
    }
  ], 
  "id": "1338882"
}