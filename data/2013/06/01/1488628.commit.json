{
  "when": "2013-06-01T18:30:26-04:00", 
  "message": "applying patch after doing small typo fixes SYNAPSE-893. Thanks Buddhima for contribution. ", 
  "who": "charith", 
  "changes": [
    {
      "chunks": [
        {
          "locn": "-0,0 +1,60", 
          "lines": [
            "+<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n", 
            "+<!--\n", 
            "+  ~  Licensed to the Apache Software Foundation (ASF) under one\n", 
            "+  ~  or more contributor license agreements.  See the NOTICE file\n", 
            "+  ~  distributed with this work for additional information\n", 
            "+  ~  regarding copyright ownership.  The ASF licenses this file\n", 
            "+  ~  to you under the Apache License, Version 2.0 (the\n", 
            "+  ~  \"License\"); you may not use this file except in compliance\n", 
            "+  ~  with the License.  You may obtain a copy of the License at\n", 
            "+  ~\n", 
            "+  ~   http://www.apache.org/licenses/LICENSE-2.0\n", 
            "+  ~\n", 
            "+  ~  Unless required by applicable law or agreed to in writing,\n", 
            "+  ~  software distributed under the License is distributed on an\n", 
            "+  ~   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n", 
            "+  ~  KIND, either express or implied.  See the License for the\n", 
            "+  ~  specific language governing permissions and limitations\n", 
            "+  ~  under the License.\n", 
            "+  -->\n", 
            "+        \n", 
            "+<!-- An empty flat synapse configuration shipped with the Apache Synapse -->\n", 
            "+<definitions xmlns=\"http://ws.apache.org/ns/synapse\">\n", 
            "+\n", 
            "+   <sequence name=\"next_seq\">\n", 
            "+            <send>\n", 
            "+            <endpoint>\n", 
            "+            <address uri=\"http://localhost:9000/services/SimpleStockQuoteService\">\n", 
            "+            <suspendOnFailure>\n", 
            "+            <errorCodes>-1</errorCodes>\n", 
            "+            <progressionFactor>1.0</progressionFactor>\n", 
            "+  </suspendOnFailure>\n", 
            "+            </address>\n", 
            "+            </endpoint>\n", 
            "+            </send>\n", 
            "+            </sequence>\n", 
            "+\t<sequence name=\"main\">\n", 
            "+            <in>\n", 
            "+            <log level=\"full\"/>\n", 
            "+            <property name=\"FORCE_SC_ACCEPTED\" value=\"true\" scope=\"axis2\"/>\n", 
            "+            <property name=\"OUT_ONLY\" value=\"true\"/>\n", 
            "+            <store messageStore=\"MyStore\"/>\n", 
            "+            </in>\n", 
            "+<out>\n", 
            "+<send />\n", 
            "+</out>\n", 
            "+            <description>The main sequence for the message mediation</description>\n", 
            "+\t</sequence>\n", 
            "+            <messageStore name=\"MyStore\"/>\n", 
            "+\t<messageProcessor \n", 
            "+            class=\"org.apache.synapse.message.processors.resequence.ResequencingProcessor\" \n", 
            "+            name=\"ResequencingProcessor\" messageStore=\"MyStore\"> \n", 
            "+\n", 
            "+<parameter name=\"interval\">10000</parameter>\n", 
            "+<parameter name=\"seqNumXpath\" xmlns:m0=\"http://services.samples\" expression=\"substring-after(//m0:placeOrder/m0:order/m0:symbol,'-')\"/>\n", 
            "+<parameter name=\"nextEsbSequence\">next_seq</parameter> \n", 
            "+\n", 
            "+</messageProcessor>\n", 
            "+\n", 
            "+\n", 
            "+</definitions>\n"
          ]
        }
      ], 
      "to": "java/repository/conf/sample/synapse_sample_703.xml", 
      "from": "java/repository/conf/sample/synapse_sample_703.xml"
    }, 
    {
      "chunks": [
        {
          "locn": "-243,6 +243,7", 
          "lines": [
            "                         <li><a href=\"samples/sample700.html\">Sample 700: Introduction to Synapse Message Stores</a></li>\n", 
            "                         <li><a href=\"samples/sample701.html\">Sample 701: Introduction to Message Sampling Processor</a></li>\n", 
            "                         <li><a href=\"samples/sample702.html\">Sample 702: Introduction to Message Forwarding Processor</a></li>\n", 
            "+                        <li><a href=\"samples/sample703.html\">Sample 703: Introduction to Message Resequencing Processor</a></li>\n", 
            "                     </ul>\n", 
            "                 </p>\n", 
            "             </subsection>\n"
          ]
        }
      ], 
      "to": "java/modules/documentation/src/site/xdoc/userguide/samples.xml", 
      "from": "java/modules/documentation/src/site/xdoc/userguide/samples.xml"
    }, 
    {
      "chunks": [
        {
          "locn": "-0,0 +1,130", 
          "lines": [
            "+<?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?>\n", 
            "+<!--\n", 
            "+  ~  Licensed to the Apache Software Foundation (ASF) under one\n", 
            "+  ~  or more contributor license agreements.  See the NOTICE file\n", 
            "+  ~  distributed with this work for additional information\n", 
            "+  ~  regarding copyright ownership.  The ASF licenses this file\n", 
            "+  ~  to you under the Apache License, Version 2.0 (the\n", 
            "+  ~  \"License\"); you may not use this file except in compliance\n", 
            "+  ~  with the License.  You may obtain a copy of the License at\n", 
            "+  ~\n", 
            "+  ~   http://www.apache.org/licenses/LICENSE-2.0\n", 
            "+  ~\n", 
            "+  ~  Unless required by applicable law or agreed to in writing,\n", 
            "+  ~  software distributed under the License is distributed on an\n", 
            "+  ~   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n", 
            "+  ~  KIND, either express or implied.  See the License for the\n", 
            "+  ~  specific language governing permissions and limitations\n", 
            "+  ~  under the License.\n", 
            "+  -->\n", 
            "+\n", 
            "+<document>\n", 
            "+    <properties>\n", 
            "+        <title>Apache Synapse - Sample 703</title>\n", 
            "+    </properties>\n", 
            "+    <body>\n", 
            "+        <section name=\"Sample 703: Introduction to Message Resequencing Processor\">\n", 
            "+            <div class=\"xmlConf\"><![CDATA[<definitions xmlns=\"http://ws.apache.org/ns/synapse\">\n", 
            "+\n", 
            "+    <sequence name=\"next_seq\">\n", 
            "+      <send>\n", 
            "+\t\t  <endpoint>\n", 
            "+\t\t\t  <address uri=\"http://localhost:9000/services/SimpleStockQuoteService\">\n", 
            "+\t\t\t\t  <suspendOnFailure>\n", 
            "+\t\t\t\t\t  <errorCodes>-1</errorCodes>\n", 
            "+\t\t\t\t\t  <progressionFactor>1.0</progressionFactor>\n", 
            "+\t\t\t\t  </suspendOnFailure>\n", 
            "+\t\t\t  </address>\n", 
            "+\t\t  </endpoint>\n", 
            "+      </send>\n", 
            "+    </sequence>\n", 
            "+\n", 
            "+\t<sequence name=\"main\">\n", 
            "+        <in>\n", 
            "+\t\t\t<log level=\"full\"/>\n", 
            "+\t\t\t<property name=\"FORCE_SC_ACCEPTED\" value=\"true\" scope=\"axis2\"/>\n", 
            "+\t\t\t<property name=\"OUT_ONLY\" value=\"true\"/>\n", 
            "+\t\t\t<store messageStore=\"MyStore\"/>\n", 
            "+        </in>\n", 
            "+\t\t<out>\n", 
            "+\t\t    <send />\n", 
            "+\t\t</out>\n", 
            "+        <description>The main sequence for the message mediation</description>\n", 
            "+\t</sequence>\n", 
            "+\n", 
            "+    <messageStore name=\"MyStore\"/>\n", 
            "+\n", 
            "+\t<messageProcessor \n", 
            "+            class=\"org.apache.synapse.message.processors.resequence.ResequencingProcessor\" \n", 
            "+            name=\"ResequencingProcessor\" messageStore=\"MyStore\"> \n", 
            "+\n", 
            "+\t\t<parameter name=\"interval\">10000</parameter>\n", 
            "+\t\t<parameter name=\"seqNumXpath\" xmlns:m0=\"http://services.samples\" expression=\"substring-after(//m0:placeOrder/m0:order/m0:symbol,'-')\"/>\n", 
            "+\t\t<parameter name=\"nextEsbSequence\">next_seq</parameter> \n", 
            "+\n", 
            "+\t</messageProcessor>\n", 
            "+\n", 
            "+</definitions>]]></div>\n", 
            "+            <subsection name=\"Objective\">\n", 
            "+                <p>\n", 
            "+                    Introduction to Message Resequencing Processor\n", 
            "+                </p>\n", 
            "+            </subsection>\n", 
            "+            <subsection name=\"Pre-requisites\">\n", 
            "+                <p>\n", 
            "+                    <ul>\n", 
            "+                        <li>\n", 
            "+                            Deploy the SimpleStockQuoteService in the sample Axis2 server and start Axis2\n", 
            "+                        </li>\n", 
            "+                        <li>\n", 
            "+                            Start Synapse using the configuration numbered 703 (repository/conf/sample/synapse_sample_703.xml)\n", 
            "+                            <div class=\"command\">\n", 
            "+                                Unix/Linux: sh synapse.sh -sample 703<br/>\n", 
            "+                                Windows: synapse.bat -sample 703\n", 
            "+                            </div>\n", 
            "+                        </li>\n", 
            "+                    </ul>\n", 
            "+                </p>\n", 
            "+            </subsection>\n", 
            "+            <subsection name=\"Executing the Client\">\n", 
            "+                <p>\n", 
            "+                    Execute the Client with commands :\n", 
            "+                </p>\n", 
            "+                <div class=\"command\">ant stockquote -Dtrpurl=http://localhost:8280/ -Dmode=placeorder -Dsymbol=WSO2-2<br/>\n", 
            "+\t\t\t\t\t\t\t\t\tant stockquote -Dtrpurl=http://localhost:8280/ -Dmode=placeorder -Dsymbol=WSO2-3<br/>\n", 
            "+\t\t\t\t\t\t\t\t\tant stockquote -Dtrpurl=http://localhost:8280/ -Dmode=placeorder -Dsymbol=WSO2-1\n", 
            "+                </div>\n", 
            "+\t\t\t\t<p>\n", 
            "+                    You have to use different sequence numbers for WSO2-#. According to configuration \n", 
            "+\t\t\t\t\tsequence number should be seperated with a hyphen mark.\n", 
            "+                </p>\n", 
            "+                <p>\n", 
            "+                    When you execute the client the message will be dispatched to the main sequence.\n", 
            "+                    In the Main sequence store mediator will store the placeOrder request message in\n", 
            "+                    the 'MyStore' message store.\n", 
            "+                </p>\n", 
            "+                <p>\n", 
            "+                    Message Processor will consume the messages and forward to the 'next_seq' sequence\n", 
            "+                    according to sequence number order.\n", 
            "+                </p>\n", 
            "+\t\t\t\t<p>\n", 
            "+                    You will see that the Axis2 server has recieved the messages in sequence number order\n", 
            "+                </p>\n", 
            "+                <p>\n", 
            "+                    Following logic is used to decide the initial sequence number.\n", 
            "+\t\t\t\t\t<ol>\n", 
            "+\t\t\t\t\t\t<li>When starting Synapse Resequencing Processor checks the attached message store for any messages. \n", 
            "+\t\t\t\t\t\tIf any messages found, select the minimum sequence number as the initial sequence number. Else continue without selecting initial sequence number.</li>\n", 
            "+\t\t\t\t\t\t<li>If initial sequence number is selected at the start up, continue sending messages to the given sequence. \n", 
            "+\t\t\t\t\t\tOtherwise waits for required number of messages to come with in a certain timeout.</li>\n", 
            "+\t\t\t\t\t\t<li>If the required number of messages are received, select initial sequence number from those and do further resequencing. \n", 
            "+\t\t\t\t\t\tIf required number of messages are not received with in timeout, select the initial sequence number from available messages in the store.</li>\n", 
            "+\t\t\t\t\t</ol>\n", 
            "+                </p>\n", 
            "+            </subsection>\n", 
            "+        </section>\n", 
            "+        <p>\n", 
            "+            <a href=\"../samples.html\">Back to Catalog</a>\n", 
            "+        </p>\n", 
            "+    </body>\n", 
            "+</document>\n", 
            "\\ No newline at end of file\n"
          ]
        }
      ], 
      "to": "java/modules/documentation/src/site/xdoc/userguide/samples/sample703.xml", 
      "from": "java/modules/documentation/src/site/xdoc/userguide/samples/sample703.xml"
    }
  ], 
  "id": "1488628"
}